# üöÄ –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ –ø—Ä–æ–µ–∫—Ç–∞ "Toshik Babe Engine"

**–†–æ–ª—å:** Lead Software Architect  
**–°—Ç–∞—Ç—É—Å:** Draft v1.0  
**–§–∏–ª–æ—Å–æ—Ñ–∏—è:** Local-First, Sovereignty, Performance

---

## üìÖ –§–∞–∑–∞ 1: Foundation & Connectivity ("I was born")
**–¶–µ–ª—å:** –°–æ–∑–¥–∞–Ω–∏–µ —Å–∫–µ–ª–µ—Ç–∞ —Å–∏—Å—Ç–µ–º—ã. –ê–≥–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω "—Ä–æ–¥–∏—Ç—å—Å—è" –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚Äî —É–º–µ—Ç—å —Å –Ω–∏–º —Å–æ–µ–¥–∏–Ω—è—Ç—å—Å—è.

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –≤–µ—Ö–∏:
1.  **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ä–µ–¥—ã (Beget VPS):** –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ **Bun** runtime, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx.
2.  **–ë—ç–∫–µ–Ω–¥-—è–¥—Ä–æ (The Nucleus):** –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ ElysiaJS –∏–ª–∏ Hono. WebSocket —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç. JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è.
3.  **–ü—Ä–æ—Ç–æ—Ç–∏–ø –∫–ª–∏–µ–Ω—Ç–∞ (CLI):** –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Å—Ç–æ–≥–æ CLI-–∫–ª–∏–µ–Ω—Ç–∞ –Ω–∞ TypeScript –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–≤—è–∑–∏.
4.  **DevOps & Logging:** –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑–æ–≤–æ–≥–æ CI/CD —á–µ—Ä–µ–∑ GitHub Actions.

---

## üß† –§–∞–∑–∞ 2: Intelligence Layer & Tooling
**–¶–µ–ª—å:** –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è "–º–æ–∑–≥–æ–≤" –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤. –ê–≥–µ–Ω—Ç –Ω–∞—á–∏–Ω–∞–µ—Ç –ø–æ–Ω–∏–º–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç.

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –≤–µ—Ö–∏:
1.  **LLM Gateway (Adapter Pattern):** –ï–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è OpenAI, Anthropic, Gemini, Local LLM. –°—Ç—Ä–∏–º–∏–Ω–≥ –æ—Ç–≤–µ—Ç–æ–≤.
2.  **Prompt Library (V1):** –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø—Ä–æ–º–ø—Ç–æ–≤ –∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö.
3.  **Command Bar Logic:** –ü–∞—Ä—Å–µ—Ä –∫–æ–º–∞–Ω–¥ (/search, /code) –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ–Ω—Ç–æ–≤.
4.  **–ë–∞–∑–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (Tools):** `web_search` (Google/DuckDuckGo), `exec` (shell –Ω–∞ VPS).

---

## üñ•Ô∏è –§–∞–∑–∞ 3: The Companion Interface (Frontend)
**–¶–µ–ª—å:** –°–æ–∑–¥–∞–Ω–∏–µ –ª–∏—Ü–∞ –ø—Ä–æ–µ–∫—Ç–∞. –ü–µ—Ä–µ—Ö–æ–¥ –æ—Ç CLI –∫ GUI.

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –≤–µ—Ö–∏:
1.  **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Tauri:** Rust (Core) + React/Vite (UI). –°–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–∞–≤–∞ (fs, clipboard).
2.  **–î–≤—É—Ö–∑–æ–Ω–Ω—ã–π UI (Two-Zone Layout):** 
    *   **Zone A (Chat):** –õ–µ–Ω—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏–π, Markdown, –ø–æ–¥—Å–≤–µ—Ç–∫–∞ –∫–æ–¥–∞.
    *   **Zone B (Live Context):** –í–∏–¥–∂–µ—Ç—ã, –¥–µ—Ä–µ–≤–æ —Ñ–∞–π–ª–æ–≤, —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–∞–º—è—Ç–∏.
3.  **Client-Server Sync:** TanStack Query –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º. Offline mode UI.
4.  **UX –ò–Ω–Ω–æ–≤–∞—Ü–∏–∏:** –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ö–æ—Ç–∫–µ–∏ (Alt + Space) –∏ Tray icon.

---

## üíæ –§–∞–∑–∞ 4: Memory & Sovereignty (Local-First "Brain")
**–¶–µ–ª—å:** –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–∞—è –ø–∞–º—è—Ç—å –∏ –ø–æ–ª–Ω–∞—è –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö.

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –≤–µ—Ö–∏:
1.  **–õ–æ–∫–∞–ª—å–Ω–∞—è –ë–î (SQLite):** –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è SQL-–ø–ª–∞–≥–∏–Ω–∞ –≤ Tauri. –ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ (FTS5).
2.  **Local RAG (Hybrid):** –í–µ–∫—Ç–æ—Ä–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (LanceDB –∏–ª–∏ SQLite-vss). –ü–∞–π–ø–ª–∞–π–Ω –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏.
3.  **–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ (End-to-End):** SQLCipher. –ö–ª–∏–µ–Ω—Ç—Å–∫–æ–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–¥ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π.
4.  **–ú–µ–Ω–µ–¥–∂–µ—Ä –∑–Ω–∞–Ω–∏–π:** UI –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏ (Graph View).

---

## üåê –§–∞–∑–∞ 5: Advanced Ecosystem
**–¶–µ–ª—å:** –ê–≤—Ç–æ–Ω–æ–º–Ω–æ—Å—Ç—å, —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å –∏ –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω–æ—Å—Ç—å.

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –≤–µ—Ö–∏:
1.  **Native Vision Support:** –ó–∞—Ö–≤–∞—Ç —ç–∫—Ä–∞–Ω–∞ —á–µ—Ä–µ–∑ API Tauri. –ê–Ω–∞–ª–∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ "–ß—Ç–æ —è –≤–∏–∂—É?".
2.  **Custom Widgets Framework:** API –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∂–∏–≤—ã—Ö React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤ "Zone B".
3.  **Agentic CI/CD:** –ê–≥–µ–Ω—Ç –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–æ–¥ –Ω–∞ –ª–µ—Ç—É (—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º).
4.  **Toshik-to-Toshik (P2P):** –ü—Ä–æ—Ç–æ–∫–æ–ª –æ–±–º–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏ –º–µ–∂–¥—É –∏–Ω—Å—Ç–∞–Ω—Å–∞–º–∏.

---

### üìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Å—Ç–µ–∫—É
*   **Database:** `SQLite`
*   **API:** `Bun.serve()`
*   **UI State:** `Zustand` + `TanStack Query`
*   **Styling:** `TailwindCSS` + `shadcn/ui`
